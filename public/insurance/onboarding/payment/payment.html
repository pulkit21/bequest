<div layout="column" flex="100">

  <div class="body-container">
    <div layout="row" layout-xs="column" flex="100">

      <div class="form-column" layout="column" flex="25" flex-xs="100">
        <div class="progress-container">
          <div class="progress-block complete">1. Questions</div>
          <div class="progress-block complete">2. Coverage</div>
          <div class="progress-block active">3. Payment</div>
          <div class="progress-block">4. Signature</div>
          <div class="progress-block">5. Confirmation</div>
        </div>
      </div>

      <form layout="column" flex="75" flex-xs="100" name="paymentForm" ng-submit="paymentSubmit(insurance)" novalidate>

        <div class="form-column">
          <div class="form-container">
            <h1>The Payment.</h1>

            <h1>${{insurance.coveragePayment}} per month</h1>

            <div class="form-row">
              <md-input-container flex="50" flex-sm="75" flex-xs="100" class="md-block">
                <label>Name on Card</label>
                <input
                  name="cardName"
                  ng-model="insurance.cardName"
                  required
                >
              </md-input-container>
            </div>

            <div class="form-row">
              <md-input-container flex="50" flex-sm="75" flex-xs="100" class="md-block">
                <label>Card number</label>
                <input
                  name="cardNumber"
                  ng-model="insurance.cardNumber"
                  type="number"
                  ng-minlength="16"
                  ng-maxlength="16"
                  required
                  >
                  <span ng-show="paymentForm.cardNumber.$error.minlength" class="learn-more">Card number should be 16 digits.</span>
                  <span ng-show="paymentForm.cardNumber.$error.maxlength" class="learn-more">Card number should be 16 digits.</span>
                <!-- format validation 16? numbers only -->
              </md-input-container>
            </div>

            <div class="form-row">
              <md-input-container flex="50" flex-sm="75" flex-xs="100" class="md-block">
                <label>Expiration date (MM/YY)</label>
                <input
                  name="cardExpiration"
                  ng-model="insurance.cardExpiration"
                  type="number"
                  required
                >
              </md-input-container>
              <!-- format validation -->
            </div>

            <div class="form-row">
              <md-input-container flex="50" flex-sm="75" flex-xs="100" class="md-block">
                <label>Security number</label>
                <input
                  name="cardSecurity"
                  ng-model="insurance.cardSecurity"
                  type="number"
                  ng-minlength="3"
                  ng-maxlength="4"
                  required
                >
                <span ng-show="paymentForm.cardSecurity.$error.minlength" class="learn-more">Card security number should not be less than 3 digits.</span>
                  <span ng-show="paymentForm.cardSecurity.$error.maxlength" class="learn-more">Card security number should be greater than 4 digits.</span>
                <!-- format validation 3 or 4 numbers only -->
              </md-input-container>
            </div>

            <div class="form-row">
              <md-checkbox ng-model="termsAgree" aria-label="" required>
                I agree to the terms and service.
              </md-checkbox>
            </div>
            <br>

            <!-- dev note: clicking next will trigger the validation of information with paypal. throw error message if credit card is not charged successfully. -->
            <md-button ui-sref="quote" class="md-secondary">Back</md-button>
            <md-button class="md-primary" ng-click="paymentSubmit(insurance)" ng-disabled="paymentForm.$invalid">Next</md-button>
            <!-- <md-button ui-sref="sign" class="md-primary">Next</md-button> -->
          </div>
        </div>
      </form>
    </div>
  </div>

</div>
